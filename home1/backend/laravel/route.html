<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>route 基本路由 | YexkM 极致分享</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.5.2">
    <script type="text/javascript" src="/js/tongji.js"></script>
    <meta name="description" content="一个具有幻想力的沙雕-2020">
    <meta name="author" content="yexk">
    <meta name="keywords" content="一个具有幻想力的沙雕-2020, blog, php, javascript, java, rust, typescript, linux, mysql">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Yexk 极致分享">
    <meta property="og:url" content="https://blog.yexk.cn/">
    <meta property="og:site_name" content="Yexk 极致分享">
    <meta property="og:description" content="Yexk 极致分享 - 一个具有幻想力的沙雕">
    <meta property="og:locale" content="zh-Hans">
    <link rel="preload" href="/assets/css/0.styles.f0f3b27a.css" as="style"><link rel="preload" href="/assets/js/app.28901dbf.js" as="script"><link rel="preload" href="/assets/js/2.9b8e3c5b.js" as="script"><link rel="preload" href="/assets/js/44.f7a73765.js" as="script"><link rel="prefetch" href="/assets/js/10.bbd9ada9.js"><link rel="prefetch" href="/assets/js/100.f66cd2fa.js"><link rel="prefetch" href="/assets/js/101.b5e34e3b.js"><link rel="prefetch" href="/assets/js/102.9da4e0cf.js"><link rel="prefetch" href="/assets/js/103.73dc203c.js"><link rel="prefetch" href="/assets/js/104.0979dc5d.js"><link rel="prefetch" href="/assets/js/105.38512bd5.js"><link rel="prefetch" href="/assets/js/106.ee2b3a54.js"><link rel="prefetch" href="/assets/js/107.3912ff1d.js"><link rel="prefetch" href="/assets/js/108.ac5bd97b.js"><link rel="prefetch" href="/assets/js/109.e9cb263e.js"><link rel="prefetch" href="/assets/js/11.7857d38f.js"><link rel="prefetch" href="/assets/js/110.f802a0a1.js"><link rel="prefetch" href="/assets/js/111.7df1294d.js"><link rel="prefetch" href="/assets/js/112.5762045d.js"><link rel="prefetch" href="/assets/js/113.3a0e7738.js"><link rel="prefetch" href="/assets/js/114.d9c623a9.js"><link rel="prefetch" href="/assets/js/115.382881ec.js"><link rel="prefetch" href="/assets/js/116.11177696.js"><link rel="prefetch" href="/assets/js/117.f4645457.js"><link rel="prefetch" href="/assets/js/118.57caa3b6.js"><link rel="prefetch" href="/assets/js/119.65bc1e79.js"><link rel="prefetch" href="/assets/js/12.d35ce208.js"><link rel="prefetch" href="/assets/js/13.e41dbd10.js"><link rel="prefetch" href="/assets/js/14.38b5527f.js"><link rel="prefetch" href="/assets/js/15.d0bd2a44.js"><link rel="prefetch" href="/assets/js/16.d795e766.js"><link rel="prefetch" href="/assets/js/17.fdedf342.js"><link rel="prefetch" href="/assets/js/18.700dc547.js"><link rel="prefetch" href="/assets/js/19.dcbba6e8.js"><link rel="prefetch" href="/assets/js/20.1596724a.js"><link rel="prefetch" href="/assets/js/21.fda10e5a.js"><link rel="prefetch" href="/assets/js/22.b8ab2a86.js"><link rel="prefetch" href="/assets/js/23.76fcee5e.js"><link rel="prefetch" href="/assets/js/24.a5bdae5b.js"><link rel="prefetch" href="/assets/js/25.d74051fd.js"><link rel="prefetch" href="/assets/js/26.b55af439.js"><link rel="prefetch" href="/assets/js/27.95546363.js"><link rel="prefetch" href="/assets/js/28.96a082cf.js"><link rel="prefetch" href="/assets/js/29.f2314239.js"><link rel="prefetch" href="/assets/js/3.11fdc86f.js"><link rel="prefetch" href="/assets/js/30.1ca09ad4.js"><link rel="prefetch" href="/assets/js/31.7f885726.js"><link rel="prefetch" href="/assets/js/32.369c59f7.js"><link rel="prefetch" href="/assets/js/33.3918ce11.js"><link rel="prefetch" href="/assets/js/34.aceee0d3.js"><link rel="prefetch" href="/assets/js/35.37c045ad.js"><link rel="prefetch" href="/assets/js/36.6383600c.js"><link rel="prefetch" href="/assets/js/37.d9e1f23a.js"><link rel="prefetch" href="/assets/js/38.9e0f271a.js"><link rel="prefetch" href="/assets/js/39.d1b92b37.js"><link rel="prefetch" href="/assets/js/4.6f061ccf.js"><link rel="prefetch" href="/assets/js/40.7f2398d0.js"><link rel="prefetch" href="/assets/js/41.45214c24.js"><link rel="prefetch" href="/assets/js/42.75cddb46.js"><link rel="prefetch" href="/assets/js/43.bfd55b3c.js"><link rel="prefetch" href="/assets/js/45.f21c737b.js"><link rel="prefetch" href="/assets/js/46.3e2a8776.js"><link rel="prefetch" href="/assets/js/47.06ba0fef.js"><link rel="prefetch" href="/assets/js/48.3f3dbeda.js"><link rel="prefetch" href="/assets/js/49.d194535b.js"><link rel="prefetch" href="/assets/js/5.3bb54d72.js"><link rel="prefetch" href="/assets/js/50.b49cd004.js"><link rel="prefetch" href="/assets/js/51.52172d95.js"><link rel="prefetch" href="/assets/js/52.5f9a02fe.js"><link rel="prefetch" href="/assets/js/53.c80bfc5a.js"><link rel="prefetch" href="/assets/js/54.b72c683d.js"><link rel="prefetch" href="/assets/js/55.f4934943.js"><link rel="prefetch" href="/assets/js/56.faac41c6.js"><link rel="prefetch" href="/assets/js/57.6c77173c.js"><link rel="prefetch" href="/assets/js/58.750c55cf.js"><link rel="prefetch" href="/assets/js/59.bffe61aa.js"><link rel="prefetch" href="/assets/js/6.110a7a36.js"><link rel="prefetch" href="/assets/js/60.bb154892.js"><link rel="prefetch" href="/assets/js/61.6576bc84.js"><link rel="prefetch" href="/assets/js/62.5b9c58ba.js"><link rel="prefetch" href="/assets/js/63.e0448c72.js"><link rel="prefetch" href="/assets/js/64.ab1a6ff9.js"><link rel="prefetch" href="/assets/js/65.0bb4781d.js"><link rel="prefetch" href="/assets/js/66.64452362.js"><link rel="prefetch" href="/assets/js/67.4e90ea84.js"><link rel="prefetch" href="/assets/js/68.473219a1.js"><link rel="prefetch" href="/assets/js/69.6bee0800.js"><link rel="prefetch" href="/assets/js/7.90668fc7.js"><link rel="prefetch" href="/assets/js/70.e7f92cef.js"><link rel="prefetch" href="/assets/js/71.5144b645.js"><link rel="prefetch" href="/assets/js/72.ae8ef79f.js"><link rel="prefetch" href="/assets/js/73.146d70fb.js"><link rel="prefetch" href="/assets/js/74.ec1d14d8.js"><link rel="prefetch" href="/assets/js/75.880de494.js"><link rel="prefetch" href="/assets/js/76.f7ab1989.js"><link rel="prefetch" href="/assets/js/77.de91893b.js"><link rel="prefetch" href="/assets/js/78.5ce99d20.js"><link rel="prefetch" href="/assets/js/79.0536defa.js"><link rel="prefetch" href="/assets/js/8.8f788596.js"><link rel="prefetch" href="/assets/js/80.cc90a4ea.js"><link rel="prefetch" href="/assets/js/81.47978aef.js"><link rel="prefetch" href="/assets/js/82.fccc2c16.js"><link rel="prefetch" href="/assets/js/83.7773b229.js"><link rel="prefetch" href="/assets/js/84.9116b3c3.js"><link rel="prefetch" href="/assets/js/85.964d28e8.js"><link rel="prefetch" href="/assets/js/86.8fe54e3e.js"><link rel="prefetch" href="/assets/js/87.bb1d1431.js"><link rel="prefetch" href="/assets/js/88.a0c96295.js"><link rel="prefetch" href="/assets/js/89.d80bd48a.js"><link rel="prefetch" href="/assets/js/9.e768782d.js"><link rel="prefetch" href="/assets/js/90.a593cd49.js"><link rel="prefetch" href="/assets/js/91.343a10a1.js"><link rel="prefetch" href="/assets/js/92.b155cdd6.js"><link rel="prefetch" href="/assets/js/93.a3fe8e3b.js"><link rel="prefetch" href="/assets/js/94.428daab5.js"><link rel="prefetch" href="/assets/js/95.2b35bdfb.js"><link rel="prefetch" href="/assets/js/96.3ae5ed0b.js"><link rel="prefetch" href="/assets/js/97.f3230a50.js"><link rel="prefetch" href="/assets/js/98.36435af2.js"><link rel="prefetch" href="/assets/js/99.61b375a4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f0f3b27a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/" class="router-link-active no-logo home-link"><!----> <span class="site-name">YexkM 极致分享</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/home/">
          主页
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          指南
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/tsgroup/">
          TS周刊2.0
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/about/">
          关于
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="https://github.com/yexk" target="_blank">
          GitHub
          <i aria-label="icon: link" class="anticon anticon-link"><svg viewBox="64 64 896 896" focusable="false" data-icon="link" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"></path></svg></i></a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="http://yexk.cn" target="_blank">
          v1.0
          <i aria-label="icon: link" class="anticon anticon-link"><svg viewBox="64 64 896 896" focusable="false" data-icon="link" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"></path></svg></i></a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <!----></nav></div></div> <!----></header> <aside class="sidebar"><!----> <!----></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h2 id="route-基本路由"><a href="#route-基本路由" class="header-anchor">#</a> route 基本路由</h2> <p>构建最基本的路由只需要一个 URI 与一个 闭包，这里提供了一个非常简单优雅的定义路由的方法：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>还可以定义一些路由参数：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Route::get('posts/{post}/comments/{comment}', function ($postId, $commentId) {
    // return $postId . $commentId;
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>注意：路由参数不能包含 - 字符。请用下划线 (_) 替换。</code></p> <h2 id="可用的路由方法"><a href="#可用的路由方法" class="header-anchor">#</a> 可用的路由方法#</h2> <div class="language-PHP line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token variable">$uri</span><span class="token punctuation">,</span> <span class="token variable">$callback</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>有的时候你可能需要注册一个可响应多个 HTTP 方法的路由，这时你可以使用 <code>match</code> 方法，也可以使用 <code>any</code> 方法注册一个实现响应所有 HTTP 的请求的路由：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Route::match(['get', 'post'], '/', function () {
    //
});

Route::any('foo', function () {
    //
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>例如：</strong><br>
在<code>web.php</code>里面配置了如下路由：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'show'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token single-quoted-string string">'Hello World'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>结果：</p> <p><img src="images/Laravel_route_demo1.png" alt="images/Laravel_route_demo1.png"></p> <h2 id="命名路由"><a href="#命名路由" class="header-anchor">#</a> 命名路由</h2> <p>命名路由可以方便的生成 <code>URL</code> 或者重定向到指定的路由，你可以在定义路由后使用 <code>name</code> 方法实现：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/profile'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'profile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 或者</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/profile'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'UserController@showProfile'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'profile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>页面生成url方法实现：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// 生成 URL...</span>
<span class="token variable">$url</span> <span class="token operator">=</span> <span class="token function">route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'profile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 生成重定向...</span>
<span class="token keyword">return</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'profile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="路由参数"><a href="#路由参数" class="header-anchor">#</a> 路由参数#</h2> <h3 id="必选路由参数"><a href="#必选路由参数" class="header-anchor">#</a> 必选路由参数#</h3> <p>当然，有时我们需要在路由中捕获一些 URL 片段。例如，我们需要从 URL 中捕获用户的 ID ，我们可以这样定义路由参数：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token single-quoted-string string">'User '</span><span class="token punctuation">.</span><span class="token variable">$id</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>也可以根据需要在路由中定义多个参数：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'posts/{post}/comments/{comment}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$postId</span><span class="token punctuation">,</span> <span class="token variable">$commentId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>路由的参数通常都会被放在 {} 内，并且参数名只能为字母，当运行路由时，参数会通过路由闭包来传递。</p> <p><code>注意： 路由参数不能包含 - 字符。请用下划线 (_) 替换。</code></p> <h3 id="可选路由参数"><a href="#可选路由参数" class="header-anchor">#</a> 可选路由参数#</h3> <p>声明路由参数时，如需指定该参数为可选，可以在参数后面加上 ? 来实现，但是相应的变量必须有默认值：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/{name?}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/{name?}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'John'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="正则表达式约束"><a href="#正则表达式约束" class="header-anchor">#</a> 正则表达式约束#</h3> <p>你可以使用 where 方法来规范你的路由参数格式。<code>where</code> 方法接受参数名称和定义参数约束规则的正则表达式：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>	
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/{name}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'[A-Za-z]+'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'[0-9]+'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/{id}/{name}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'[0-9]+'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'[a-z]+'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="全局约束"><a href="#全局约束" class="header-anchor">#</a> 全局约束#</h3> <p>如果你希望路由参数在全局范围内都遵循一个确定的正则表达式约束，则可以使用 <code>pattern</code> 方法。你应该在 <code>RouteServiceProvider</code> 的 <code>boot</code> 方法里定义这些模式：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">/**
 * 定义你的路由模型绑定, pattern 过滤器等。
 *
 * @return void
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">pattern</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'[0-9]+'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">parent</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">boot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>Pattern</code> 一旦被定义，便会自动应用到所有使用该参数名称的路由上：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user/{id}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 仅在 {id} 为数字时执行...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>例如：</strong><br>
在<code>web.php</code>里面配置了如下路由：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code>Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'show/{name}'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token single-quoted-string string">'Hello '</span> <span class="token punctuation">.</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>结果：<br> <img src="images/Laravel_route_demo2.png" alt="images/Laravel_route_demo2.png"></p> <h2 id="控制器路由绑定"><a href="#控制器路由绑定" class="header-anchor">#</a> 控制器路由绑定</h2> <p>语法：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token comment">// 方法绑定。</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span>路径<span class="token punctuation">,</span>命名空间\控制器@方法<span class="token punctuation">)</span><span class="token punctuation">;</span>	
<span class="token comment">// 例如：</span>
Route<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'blog'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'BlogController@index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//绑定了Blog控制器的index方法到blog</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>详细方法到控制器绑定方法请移步到 : <a href="/home1/backend/laravel/controller.html">控制器路由绑定</a></p> <h2 id="跨站请求伪造-csrf"><a href="#跨站请求伪造-csrf" class="header-anchor">#</a> 跨站请求伪造 ( CSRF )</h2> <blockquote><p>Laravel 提供了简单的方法使你的应用免受 跨站请求伪造 (CSRF) 的袭击。跨站请求伪造是一种恶意的攻击，它凭借已通过身份验证的用户身份来运行未经过授权的命令。</p></blockquote> <p>功能实现：<br>
任何情况下在你的应用程序中定义 HTML 表单时都应该包含 CSRF 令牌隐藏域，这样 CSRF 保护中间件才可以验证请求。辅助函数 <code>csrf_field</code> 可以用来生成令牌字段：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/profile<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ csrf_field() }}
    ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>包含在 <code>web</code> 中间件组里的 <code>VerifyCsrfToken</code> 中间件会自动验证请求里的令牌 <code>token</code> 与 <code>Session</code> 中存储的令牌 <code>token</code> 是否匹配。</p> <blockquote><p>该功能可以简单的理解为生活中的钥匙（Token），我们访问这个房子（网站）的时候就要带上这个钥匙。否则就不让你进去。</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020-02-16</span></div></footer> <!----> </main> <!----></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.28901dbf.js" defer></script><script src="/assets/js/2.9b8e3c5b.js" defer></script><script src="/assets/js/44.f7a73765.js" defer></script>
  </body>
</html>