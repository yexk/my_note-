(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{852:function(t,s,a){"use strict";a.r(s);var n=a(72),p=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"gulp-基于流的自动化构建工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gulp-基于流的自动化构建工具"}},[t._v("#")]),t._v(" gulp - 基于流的自动化构建工具")]),t._v(" "),a("blockquote",[a("p",[t._v("gulp是前端开发过程中对代码进行构建的工具，是自动化项目的构建利器；它不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成；使用它，我们不仅可以很愉快的编写代码，而且大大提高我们的工作效率。")])]),t._v(" "),a("p",[a("strong",[t._v("安装前提：需要安装nodejs环境。")])]),t._v(" "),a("p",[t._v("安装gulp使用命令："),a("code",[t._v("cnpm install -g gulp")])]),t._v(" "),a("blockquote",[a("p",[t._v("cnpm是国内镜像版的npm。"),a("RouterLink",{attrs:{to:"/home1/frontend/other/npm_introduction.html"}},[t._v("什么是npm？")])],1)]),t._v(" "),a("h2",{attrs:{id:"快速入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速入门"}},[t._v("#")]),t._v(" 快速入门")]),t._v(" "),a("h3",{attrs:{id:"创建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[t._v("#")]),t._v(" 创建项目")]),t._v(" "),a("p",[t._v("初始化一个node项目。需要配置一个package.json文件放到项目的根目录。\n"),a("img",{attrs:{src:"images/node_init.png",alt:"images/node_init.png"}})]),t._v(" "),a("h3",{attrs:{id:"本地项目安装gulp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地项目安装gulp"}},[t._v("#")]),t._v(" 本地项目安装gulp")]),t._v(" "),a("p",[t._v("在项目的更目录下安装gulp，执行命令："),a("code",[t._v("cnpm install gulp --save-dev")])]),t._v(" "),a("blockquote",[a("p",[t._v("一般工具这类的东西都安装到**-dev**环境下。\n"),a("img",{attrs:{src:"images/install_gulp_local.png",alt:"images/install_gulp_local.png"}})])]),t._v(" "),a("h3",{attrs:{id:"本地安装gulp插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地安装gulp插件"}},[t._v("#")]),t._v(" 本地安装gulp插件")]),t._v(" "),a("p",[t._v("这里拿编译sass的插件举例子。其他的插件也大小雷同。\n安装命令："),a("code",[t._v("cnpm install gulp-sass --save-dev")]),t._v(" "),a("img",{attrs:{src:"images/install_gulp_sass.png",alt:"images/install_gulp_sass.png"}})]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("安装常用插件")]),t._v("：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名称")]),t._v(" "),a("th",[t._v("包名")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("sass的编译")]),t._v(" "),a("td",[t._v("gulp-sass")])]),t._v(" "),a("tr",[a("td",[t._v("编译 Less")]),t._v(" "),a("td",[t._v("gulp-less")])]),t._v(" "),a("tr",[a("td",[t._v("自动添加css前缀")]),t._v(" "),a("td",[t._v("gulp-autoprefixer")])]),t._v(" "),a("tr",[a("td",[t._v("压缩css")]),t._v(" "),a("td",[t._v("gulp-minify-css")])]),t._v(" "),a("tr",[a("td",[t._v("压缩html")]),t._v(" "),a("td",[t._v("gulp-minify-html")])]),t._v(" "),a("tr",[a("td",[t._v("js代码校验")]),t._v(" "),a("td",[t._v("gulp-jshint")])]),t._v(" "),a("tr",[a("td",[t._v("合并js文件")]),t._v(" "),a("td",[t._v("gulp-concat")])]),t._v(" "),a("tr",[a("td",[t._v("压缩js代码")]),t._v(" "),a("td",[t._v("gulp-uglify")])]),t._v(" "),a("tr",[a("td",[t._v("压缩图片")]),t._v(" "),a("td",[t._v("gulp-imagemin")])]),t._v(" "),a("tr",[a("td",[t._v("自动刷新页面")]),t._v(" "),a("td",[t._v("gulp-livereload")])]),t._v(" "),a("tr",[a("td",[t._v("图片缓存，只有图片替换了才压缩")]),t._v(" "),a("td",[t._v("gulp-cache")])]),t._v(" "),a("tr",[a("td",[t._v("更改提醒")]),t._v(" "),a("td",[t._v("gulp-notify")])]),t._v(" "),a("tr",[a("td",[t._v("清除文件")]),t._v(" "),a("td",[t._v("del")])]),t._v(" "),a("tr",[a("td",[t._v("编译 Jade")]),t._v(" "),a("td",[t._v("gulp-jade")])]),t._v(" "),a("tr",[a("td",[t._v("创建本地服务器")]),t._v(" "),a("td",[t._v("gulp-connect")])]),t._v(" "),a("tr",[a("td",[t._v("重命名文件")]),t._v(" "),a("td",[t._v("gulp-rename")])])])]),t._v(" "),a("h3",{attrs:{id:"在项目的更目录创建一个gulpfile-js文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在项目的更目录创建一个gulpfile-js文件"}},[t._v("#")]),t._v(" 在项目的更目录创建一个gulpfile.js文件")]),t._v(" "),a("blockquote",[a("p",[a("span",{staticStyle:{color:"red"}},[t._v("注意：")]),t._v("这个文件名字是固定的，不允许更改。")])]),t._v(" "),a("p",[t._v("在根目录创建文件："),a("code",[t._v("gulpfile.js")]),t._v("\n写入如下代码：")]),t._v(" "),a("div",{staticClass:"language-JavaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gulp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gulp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sass "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gulp-sass'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sass_path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/css/*.scss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建了一个任务，监听了scss文件，通过sass插件去编译生成css")]),t._v("\ngulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sass'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'this is sass task!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tgulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sass_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dist/css/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" 再创建一个gulp任务用于监听上面的任务。\ngulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("task")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'this is default task! i\\'m watch sass task!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tgulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sass_path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tgulp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sass'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("p",[t._v("在"),a("code",[t._v("./src/css/")]),t._v("目录下创建一个文件,后缀为scss。如:"),a("code",[t._v("base.scss")]),t._v("。\n使用sass语法写下样式文件：")]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[t._v("$"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("gray")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #ccc"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(";\nbody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $gray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $gray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("启动gulp任务：\n"),a("img",{attrs:{src:"images/gulp_start.png",alt:"images/gulp_start.png"}})]),t._v(" "),a("blockquote",[a("p",[t._v("注意：启动命令为：gulp <task名字> 。当task名字为“defualt”的时候可以省略。")])]),t._v(" "),a("p",[t._v("如果运行不报错可以看到自动生成了dist目录。有css/base.css文件。\n"),a("img",{attrs:{src:"images/gulp_result.png",alt:"images/gulp_result.png"}})]),t._v(" "),a("blockquote",[a("p",[t._v("到此gulp快速入门完成了。更多的api和教程可以查看官方的："),a("a",{attrs:{href:"http://www.gulpjs.com.cn/docs/api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("gulp官网的API"),a("OutboundLink")],1),t._v("。\n次案例的源码："),a("a",{attrs:{href:"code/gulp.zip"}},[t._v("code/gulp.zip")])])])])}),[],!1,null,null,null);s.default=p.exports}}]);