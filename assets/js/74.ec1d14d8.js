(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{821:function(s,t,a){"use strict";a.r(t);var n=a(72),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux-pppoe-ipv6的环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-pppoe-ipv6的环境搭建"}},[s._v("#")]),s._v(" LINUX PPPoE IPv6的环境搭建")]),s._v(" "),a("h2",{attrs:{id:"设备环境："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设备环境："}},[s._v("#")]),s._v(" 设备环境：")]),s._v(" "),a("ul",[a("li",[s._v("操作系统："),a("code",[s._v("Centos 7 x64")])]),s._v(" "),a("li",[s._v("使用软件："),a("code",[s._v("ppp")]),s._v(" ,  "),a("code",[s._v("rp-pppoe")]),s._v(",  "),a("code",[s._v("radvd")]),s._v(" ,  "),a("code",[s._v("kea dhcp")])])]),s._v(" "),a("h2",{attrs:{id:"软件安装："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#软件安装："}},[s._v("#")]),s._v(" 软件安装：")]),s._v(" "),a("p",[s._v("这里使用的在线安装。离线安装的自己去google下安装环境")]),s._v(" "),a("ol",[a("li",[s._v("rp-pppoe-3.11-5.el7.x86_64")]),s._v(" "),a("li",[s._v("ppp-2.4.5-33.el7.x86_64")]),s._v(" "),a("li",[s._v("radvd-1.9.2-9.el7.x86_64")])]),s._v(" "),a("blockquote",[a("p",[s._v("当时的版本")])]),s._v(" "),a("p",[s._v("安装命令：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" rp-pppoe ppp radvd\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"软件配置："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#软件配置："}},[s._v("#")]),s._v(" 软件配置：")]),s._v(" "),a("h3",{attrs:{id:"pppoe-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pppoe-server"}},[s._v("#")]),s._v(" PPPOE-SERVER")]),s._v(" "),a("p",[s._v("命令 ："),a("code",[s._v("vim /etc/ppp/options")])]),s._v(" "),a("blockquote",[a("p",[s._v("(要是这个文件没有自己创建)")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Local\nipv6 ,\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意ipv6后面必须要隔一个空格+逗号。去掉会拨号不成功。")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("命令："),a("code",[s._v("vim /etc/ppp/pppoe-server-options")])]),s._v(" "),a("blockquote",[a("p",[s._v("(要是这个文件没有自己创建)")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# PPP options for the PPPoE server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LIC: GPL")]),s._v("\nrequire-pap\nrequire-chap\nlogin\n+ipv6\nlcp-echo-interval "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nlcp-echo-failure "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nlogfile /var/log/pppoe.log  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("命令： "),a("code",[s._v("vim /etc/ppp/chap-secrets")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v(" * "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v(" *\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# "账号" * "密码" * ')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("启动pppoe命令")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("pppoe-server -I enp4s0 -L "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".5.1 -R "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".5.100 -N "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote"),s._v(" "),a("p",[s._v("-l ： 后面带的是你需要用作提供pppoe上网的网卡名称。"),a("br"),s._v("\n-L :   接你的提供服务的地址。"),a("br"),s._v("\n-R： 接你提供服务的地址池的起始"),a("br"),s._v("\n-N:   最大可拨号数量。")]),s._v(" "),a("h3",{attrs:{id:"radvd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#radvd"}},[s._v("#")]),s._v(" RADVD")]),s._v(" "),a("p",[s._v("命令："),a("code",[s._v("vim /etc/radvd.conf")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("interface enp4s0                "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#接你拨号上网的网卡名称")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\tAdvSendAdvert on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启用路由器公告（RA）功能")]),s._v("\n\tMinRtrAdvInterval "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每隔30-100秒间隔发送公告消息")]),s._v("\n\tMaxRtrAdvInterval "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\tAdvManagedFlag off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# M值")]),s._v("\n\tAdvOtherConfigFlag on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# O值")]),s._v("\n\tprefix "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v(":db8:2::/64      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#发送的前缀信息")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\tAdvOnLink on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\tAdvAutonomous on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#公告的前缀可用来自动位置配置")]),s._v("\n\t\tAdvRouterAddr off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[a("strong",[s._v("启动命令")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("radvd -C /etc/radvd.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[a("code",[s._v("-C")]),s._v("的c是大写")])]),s._v(" "),a("h3",{attrs:{id:"kea-dhcp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kea-dhcp"}},[s._v("#")]),s._v(" KEA DHCP")]),s._v(" "),a("p",[s._v("下载链接："),a("a",{attrs:{href:"https://www.isc.org/downloads/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.isc.org/downloads/"),a("OutboundLink")],1),s._v("\n官方文档："),a("RouterLink",{attrs:{to:"ftp://ftp.isc.org/isc/kea/1.2.0/doc/kea-guide.html"}},[s._v("ftp://ftp.isc.org/isc/kea/1.2.0/doc/kea-guide.html")])],1),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DHCPv6 configuration starts here.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Dhcp6"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Add names of interfaces to listen on.")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"interfaces-config"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"interfaces"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"enp4s0"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"option-data"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dns-servers"')]),s._v(",\n    \t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"data"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2001::1, 2001::2"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The following list defines subnets. Uncomment to enable them.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"subnet6"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("    \n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"subnet"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2017:db8:2::/64"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pools"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pool"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2017:db8:2::1-2017:db8:2::ffff"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"reservations"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"duid"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"00:03:00:01:f4:28:54:00:15:51"')]),s._v(",\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefixes"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2017::/64"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"interface"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"enp4s0"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br")])]),a("p",[a("strong",[s._v("启动命令")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("kea-dhcp6 -c /etc/kea/kea.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("（c是小写）,该进程不会后台进行。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);