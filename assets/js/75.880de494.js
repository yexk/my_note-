(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{820:function(s,e,i){"use strict";i.r(e);var r=i(72),a=Object(r.a)({},(function(){var s=this,e=s.$createElement,i=s._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[i("h2",{attrs:{id:"nosql-产品安装"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#nosql-产品安装"}},[s._v("#")]),s._v(" Nosql 产品安装")]),s._v(" "),i("blockquote",[i("p",[s._v("准备环境")]),s._v(" "),i("ul",[i("li",[s._v("Redis : redis-3.0.7.tar.gz")]),s._v(" "),i("li",[s._v("PHPRedis : phpredis-3.1.1.tar.gz")])])]),s._v(" "),i("h3",{attrs:{id:"redis安装"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#redis安装"}},[s._v("#")]),s._v(" Redis安装")]),s._v(" "),i("blockquote",[i("p",[s._v("先把准备环境弄好。把下载好的两个包上传到Linux服务器。然后开始安装。"),i("code",[s._v("解压，配置，编译，安装")]),s._v("。")])]),s._v(" "),i("ol",[i("li",[i("p",[i("strong",[s._v("解压")]),s._v("。"),i("br"),s._v("\n命令："),i("code",[s._v("tar -zxvf redis-3.0.7.tar.gz")])])]),s._v(" "),i("li",[i("p",[i("strong",[s._v("编译")]),s._v("。"),i("br"),s._v("\n进入解压后的目录，然后进行make（redis安装不需要configure的过程）"),i("br"),s._v("\n命令："),i("code",[s._v("make")])]),s._v(" "),i("p",[i("img",{attrs:{src:"images/redis_make.jpg",alt:"images/redis_make.jpg"}})])]),s._v(" "),i("li",[i("p",[i("strong",[s._v("安装")]),i("br"),s._v("\n指定安装路径，进行安装。"),i("br"),s._v("\n命令："),i("code",[s._v("make PREFIX=/usr/local/nosql/redis install")]),s._v("（PREFIX必须大写）")]),s._v(" "),i("p",[i("img",{attrs:{src:"images/redis_install.jpg",alt:"images/redis_install.jpg"}})])]),s._v(" "),i("li",[i("p",[i("strong",[s._v("配置信息")]),i("br"),s._v("\n建立redis的配置文件目录和配置文件的copy。"),i("br"),s._v("\n创建文件夹命令："),i("code",[s._v("mkdir /etc/redis")]),i("br"),s._v("\n复制文件命令："),i("code",[s._v("cp redis.conf /etc/redis/")])]),s._v(" "),i("p",[i("img",{attrs:{src:"images/redis_edit_conf.jpg",alt:"images/redis_edit_conf.jpg"}})]),s._v(" "),i("p",[s._v("编辑"),i("code",[s._v("redis.conf")]),s._v("，修改"),i("code",[s._v("daemonize no")]),s._v(" 改成 "),i("code",[s._v("daemonize yes")]),s._v(" (允许redis后台允许)\n"),i("img",{attrs:{src:"images/redis_run_back.jpg",alt:"images/redis_run_back.jpg"}})]),s._v(" "),i("p",[s._v("至此已经安装完成。")])])]),s._v(" "),i("h3",{attrs:{id:"安装phpredis"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#安装phpredis"}},[s._v("#")]),s._v(" 安装PHPRedis")]),s._v(" "),i("blockquote",[i("p",[s._v("上面一步是把Redis服务器搭建好。接下来的步骤就是把redis和php关联起来。")])]),s._v(" "),i("ol",[i("li",[i("p",[i("strong",[s._v("解压")]),s._v("。"),i("br"),s._v("\n命令："),i("code",[s._v("tar -zxvf phpredis-3.1.1.tar.gz")])])]),s._v(" "),i("li",[i("p",[i("strong",[s._v("收集&配置")]),i("br"),s._v("\n安装PHP插件有个重要的步骤就是使用PHP去收集插件信息。"),i("br"),s._v("\n进入到解压后的目录。然后进行收集信息。"),i("br"),s._v("\n命令："),i("code",[s._v("cd phpredis-3.1.1")]),i("br"),s._v("\n命令："),i("code",[s._v("/usr/local/php/bin/phpize")]),s._v(" (/usr/loca/php是你的安装路径)"),i("br"),s._v(" "),i("img",{attrs:{src:"images/phpredis_phpize.jpg",alt:"images/phpredis_phpize.jpg"}})]),s._v(" "),i("p",[s._v("配置信息\n命令："),i("code",[s._v("./configure --with-php-config=/usr/local/php/bin/php-config")]),s._v(" "),i("img",{attrs:{src:"images/phpredis_config.jpg",alt:"images/phpredis_config.jpg"}})])]),s._v(" "),i("li",[i("p",[i("strong",[s._v("编译&安装")]),s._v("\n命令："),i("code",[s._v("make && make install")]),s._v(" "),i("img",{attrs:{src:"images/phpredis_make_install.jpg",alt:"images/phpredis_make_install.jpg"}})])]),s._v(" "),i("li",[i("p",[i("strong",[s._v("PHP配置")]),i("br"),s._v("\nPHPredis编译好后会生成redis.so文件。这个文件的路径在："),i("code",[s._v("/usr/local/php/lib/php/extensions/no-debug-zts-20131226/")]),s._v(" 这个编译完了就会动态生成\n接下来就找到你自己的php.ini文件位置。进行如下的编辑：")]),s._v(" "),i("p",[i("img",{attrs:{src:"images/phpredis_phpini_config.jpg",alt:"images/phpredis_phpini_config.jpg"}})]),s._v(" "),i("p",[s._v("保存关闭。然后重启Apache。\n最后附上安装成功后的图（看到这个说明你安装成功了）：\n"),i("img",{attrs:{src:"images/phpredis.jpg",alt:"images/phpredis.jpg"}})])])]),s._v(" "),i("h1",{attrs:{id:"phpize-命令执行错误"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#phpize-命令执行错误"}},[s._v("#")]),s._v(" phpize 命令执行错误")]),s._v(" "),i("blockquote",[i("p",[s._v("报出如下错误。\nCannot find autoconf. Please check your autoconf installation and the\n$PHP_AUTOCONF environment variable. Then, rerun this script."),i("br"),s._v(" "),i("img",{attrs:{src:"images/phpize_error.png",alt:"images/phpize_error.png"}})])]),s._v(" "),i("p",[i("strong",[s._v("解决办法如下")]),s._v("："),i("br"),s._v("\n安装"),i("code",[s._v("m4")]),s._v(","),i("code",[s._v("autoconf")]),s._v("软件即可。")]),s._v(" "),i("p",[s._v("如果是UBUNTU的话,可以使用:")]),s._v(" "),i("div",{staticClass:"language- line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[s._v("sudo apt-get install m4\nsudo apt-get install autoconf\n")])]),s._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[s._v("1")]),i("br"),i("span",{staticClass:"line-number"},[s._v("2")]),i("br")])]),i("p",[s._v("centos系统：")]),s._v(" "),i("div",{staticClass:"language- line-numbers-mode"},[i("pre",{pre:!0,attrs:{class:"language-text"}},[i("code",[s._v("yum install m4\nyum install autoconf\n")])]),s._v(" "),i("div",{staticClass:"line-numbers-wrapper"},[i("span",{staticClass:"line-number"},[s._v("1")]),i("br"),i("span",{staticClass:"line-number"},[s._v("2")]),i("br")])])])}),[],!1,null,null,null);e.default=a.exports}}]);