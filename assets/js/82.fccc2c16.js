(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{811:function(s,e,t){"use strict";t.r(e);var a=t(72),l=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mysql遇到的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql遇到的问题"}},[s._v("#")]),s._v(" MySQL遇到的问题")]),s._v(" "),t("h2",{attrs:{id:"mysql5-7中datetime默认值设置0000-00-00失败的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql5-7中datetime默认值设置0000-00-00失败的问题"}},[s._v("#")]),s._v(" mysql5.7中datetime默认值设置0000-00-00失败的问题")]),s._v(" "),t("blockquote",[t("p",[s._v("问题：mysql5.7之后版本datetime默认值设置'0000-00-00'，出现异常：Invalid default value for 'create_time'")])]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("-- 例如这个表格：\nDROP TABLE IF EXISTS `test`;\nCREATE TABLE `test` (\n  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '自增ID',\n  `time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '添加时间',\n  PRIMARY KEY (`id`)\n);\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("添加的时候就会报错：\n"),t("img",{attrs:{src:"images/mysql_default_value.jpg",alt:"images/mysql_default_value.jpg"}})]),s._v(" "),t("p",[s._v("这个时候在MySQL的配置文件的"),t("code",[s._v("[mysqld]")]),s._v("中加入：\n"),t("code",[s._v("sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION")]),s._v(" "),t("img",{attrs:{src:"images/mysql_default_value_conf.jpg",alt:"images/mysql_default_value_conf.jpg"}})]),s._v(" "),t("p",[s._v("最后重启再导入就行了。")]),s._v(" "),t("blockquote",[t("p",[s._v("附上原文链接 http://blog.csdn.net/sd4493091/article/details/54947851 (此处对原文稍作修改)")])]),s._v(" "),t("h2",{attrs:{id:"mysql解决-err-1206-the-total-number-of-locks-exceeds-the-lock-table-size问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql解决-err-1206-the-total-number-of-locks-exceeds-the-lock-table-size问题"}},[s._v("#")]),s._v(" MySQL解决[Err] 1206 - The total number of locks exceeds the lock table size问题")]),s._v(" "),t("blockquote",[t("p",[s._v("默认缓冲区的文件大小问题。。")])]),s._v(" "),t("p",[s._v("在配置文件改成一个较大的大小就行。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("innodb_buffer_pool_size = 2G\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"mysql的蠕虫复制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql的蠕虫复制"}},[s._v("#")]),s._v(" mysql的蠕虫复制")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("insert into test1 (name) select name from test1;\t\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h1",{attrs:{id:"开启远程访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启远程访问"}},[s._v("#")]),s._v(" 开启远程访问")]),s._v(" "),t("p",[s._v('在本机先使用root用户登录mysql： mysql -u root -p"youpassword" 进行授权操作：')]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("GRANT ALL PRIVILEGES ON *.* TO "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" IDENTIFIED BY "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'youpassword'")]),s._v(" WITH GRANT OPTION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("重载授权表：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("FLUSH PRIVILEGES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);e.default=l.exports}}]);